# TODO:
#  ngcpip=...       - set IP address of installed system (defaults to dhcp) (WIP)
#  ngcpprofile=...  - download additional configuration profile (WIP)

default grml
label grml
  menu DEFAULT
  menu label Rescue system boot (%VERSION%, %ARCH%)
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce noquick
  text help
                                        Automatic deployment system for the
                                        Sipwise Next Generation Communication
                                        Platform.         http://sipwise.com/

                                        Based on http://grml.org/
  endtext

label ce
  menu label Install sip:providerCE  - DHCP
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce ngcpce netscript=http://deb.sipwise.com/kantan/deployment.sh ngcphostname=spce 

  text help
                                        Install sip:provider community edition.
                                        Retrieve network configuration via DHCP.
  endtext

label cenw
  menu label Install sip:providerCE  - static NW config
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce ngcpce netscript=http://deb.sipwise.com/kantan/deployment.sh ngcphostname=spce ip=192.168.51.123::192.168.51.1:255.255.255.0:spce:eth0:off dns=192.168.51.2 

  text help
                                        Install sip:provider community edition.
                                        Use static IP configuration, adjust in
                                        boot command line if necessary.
  endtext

label prosp1
  menu label Install sip:providerPRO - sp1 / DHCP
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce ngcppro netscript=http://deb.sipwise.com/kantan/deployment.sh ngcpsp1 ngcphostname=sp1

  text help
                                        Install sip:provider professional edition.
                                        Install first node of HA setup.
                                        Retrieve network configuration via DHCP.
  endtext


label prosp1nw
  menu label Install sip:providerPRO - sp1 / static NW
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce ngcppro netscript=http://deb.sipwise.com/kantan/deployment.sh ngcpsp1 ngcphostname=sp1 ip=192.168.51.123::192.168.51.1:255.255.255.0:spce:eth0:off dns=192.168.51.2 

  text help
                                        Install sip:provider professional edition.
                                        Install first node of HA setup.
                                        Use static IP configuration, adjust in
                                        boot command line if necessary.
  endtext

label prosp2
  menu label Install sip:providerPRO - sp2 / DHCP
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce ngcppro netscript=http://deb.sipwise.com/kantan/deployment.sh ngcpsp2 ngcphostname=sp2 

  text help
                                        Install sip:provider professional edition.
                                        Install second node of HA setup.
                                        Retrieve network configuration via DHCP.
  endtext

label prosp2nw
  menu label Install sip:providerPRO - sp2 / static NW
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce ngcppro netscript=http://deb.sipwise.com/kantan/deployment.sh ngcpsp2 ngcphostname=sp2 ip=192.168.51.123::192.168.51.1:255.255.255.0:spce:eth0:off dns=192.168.51.2 

  text help
                                        Install sip:provider professional edition.
                                        Install second node of HA setup.
                                        Use static IP configuration, adjust in
                                        boot command line if necessary.
  endtext

label squeeze
  menu label Install Debian/squeeze 64bit / DHCP
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce nongcp netscript=http://deb.sipwise.com/kantan/deployment.sh 

  text help
                                        Install Debian squeeze, 64bit.
                                        Does NOT install sip:provider platform.
                                        Retrieve network configuration via DHCP.
  endtext


label squeezenw
  menu label Install Debian/squeeze 64bit / static NW
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce nongcp netscript=http://deb.sipwise.com/kantan/deployment.sh ip=192.168.51.123::192.168.51.1:255.255.255.0:spce:eth0:off dns=192.168.51.2 

  text help
                                        Install Debian squeeze, 64bit.
                                        Does NOT install sip:provider platform.
                                        Use static IP configuration, adjust in
                                        boot command line if necessary.
  endtext

label fw
  menu label Automatic Firmware upgrades / DHCP
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce noinstall nongcp nodebian ngcpfirmware netscript=http://deb.sipwise.com/kantan/deployment.sh 

  text help
                                        Install recent firmware images for IBM hardware.
                                        Retrieve network configuration via DHCP.
  endtext

label fwnw
  menu label Automatic Firmware upgrades / static NW
  kernel /boot/%SHORT_NAME%/linux26
  append initrd=/boot/%SHORT_NAME%/initrd.gz boot=live bootid=%BOOTID% apm=power-off vga=791 quiet nomce noinstall nongcp nodebian ngcpfirmware netscript=http://deb.sipwise.com/kantan/deployment.sh ip=192.168.51.123::192.168.51.1:255.255.255.0:spce:eth0:off dns=192.168.51.2 

  text help
                                        Install recent firmware images for IBM hardware.
                                        Use static IP configuration, adjust in
                                        boot command line if necessary.
  endtext

label ipxe
  menu label Boot from network (iP^XE)
  kernel /boot/addons/ipxe.lkrn

  text help
                                        Start Etherboot/iPXE for booting via
                                        network (PXE).
  endtext

label hd
  menu label ^Boot from local Hard Disk
  localboot 0x80
  text help
                                        Boot from first local hard disk -
                                        if present and bootable.
  endtext

# EOF
